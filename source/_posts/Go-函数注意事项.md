---
title: Go | å‡½æ•°æ³¨æ„äº‹é¡¹
tags: Go
categories: Go
description: å‡½æ•°æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚
abbrlink: 1021065066
date: 2022-11-24 16:51:35
---

> æœ¬ç¯‡æ”¶å½•è‡³[Golangä¸“æ ](https://blog.i-xiao.space/categories/Go/)ï¼ŒæŒç»­æ›´æ–°ï¼Œæ¬¢è¿è®¿é—®ğŸ˜Š

# ç»†èŠ‚æ±‡æ€»
1. å‡½æ•°çš„å½¢å‚åˆ—è¡¨å¯ä»¥æ˜¯å¤šä¸ªï¼Œè¿”å›å€¼åˆ—è¡¨ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ª
2. å½¢å‚åˆ—è¡¨å’Œè¿”å›å€¼åˆ—è¡¨çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯å€¼ç±»å‹ã€ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹
3. å‡½æ•°çš„å‘½åéµå¾ªæ ‡è¯†ç¬¦å‘½åè§„èŒƒï¼Œé¦–å­—æ¯ä¸èƒ½æ˜¯æ•°å­—ï¼Œé¦–å­—æ¯å¤§å†™è¡¨ç¤ºè¯¥å‡½æ•°å¯ä»¥è¢«æœ¬åŒ…æ–‡ä»¶å’Œå…¶å®ƒæ–‡ä»¶ä½¿ç”¨ï¼Œç±»ä¼¼publicï¼›é¦–å­—æ¯å°å†™åªèƒ½è¢«æœ¬åŒ…æ–‡ä»¶ä½¿ç”¨ï¼Œç±»ä¼¼privateã€‚
4. å‡½æ•°ä¸­çš„å˜é‡æ˜¯å±€éƒ¨çš„ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚**ä½œç”¨åŸŸ**
5. åŸºæœ¬æ•°æ®ç±»å‹å’Œæ•°ç»„éƒ½æ˜¯å€¼ä¼ é€’çš„ï¼Œå³è¿›è¡Œå€¼æ‹·è´ã€‚åœ¨å‡½æ•°å†…ä¿®æ”¹ï¼Œä¸ä¼šå½±å“åˆ°åŸæ¥çš„å€¼ï¼Œ
6. å¦‚æœå¸Œæœ›å‡½æ•°å†…çš„å˜é‡èƒ½å¤Ÿä¿®æ”¹å‡½æ•°å¤–çš„å˜é‡ï¼Œå¯ä»¥ä¼ å…¥å˜é‡çš„åœ°å€ï¼ˆ**&**ï¼‰ï¼Œå‡½æ•°å†…ä»¥æŒ‡é’ˆçš„æ–¹å¼æ“ä½œå˜é‡ï¼Œä»æ•ˆæœä¸Šçœ‹ç±»ä¼¼**å¼•ç”¨**
7. Goå‡½æ•°ä¸æ”¯æŒå‡½æ•°é‡è½½ã€‚
8. åœ¨Goä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¯¥å˜é‡æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å˜é‡ï¼Œé€šè¿‡è¯¥å˜é‡å¯ä»¥å¯¹å‡½æ•°è°ƒç”¨ã€‚
9. å‡½æ•°æ—¢ç„¶æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå› æ­¤åœ¨Goä¸­ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå½¢å‚ï¼Œå¹¶ä¸”è°ƒç”¨ã€‚ï¼ˆ**å›è°ƒå‡½æ•°**ï¼‰
10. ä¸ºäº†ç®€åŒ–æ•°æ®ç±»å‹å®šä¹‰ï¼ŒGoæ”¯æŒè‡ªå®šä¹‰æ•°æ®ç±»å‹
è¯­æ³•ï¼š type è‡ªå®šæ•°æ®ç±»å‹å æ•°æ®ç±»å‹ // (ç›¸å½“äºä¸€ä¸ªåˆ«å)
æ¡ˆä¾‹ï¼š **type myInt int**                           // è¿™æ—¶ï¼ŒmyIntå°±ç­‰ä»·äºintæ¥ä½¿ç”¨äº†
    **type mySum  func(int, int) int**   // è¿™æ—¶ï¼ŒmySumå°±ç­‰ä»·äºfunc(int, int) int
11. æ”¯æŒå¯¹å‡½æ•°è¿”å›å€¼å‘½åï¼ˆ**å¯ä»¥ä¸å—è¿”å›å€¼é¡ºåºé™åˆ¶**ï¼‰
12. ä½¿ç”¨ _ ä¸‹åˆ’çº¿æ ‡è¯†ç¬¦ï¼Œå¿½ç•¥è¿”å›å€¼ã€‚ï¼ˆ**å ä½ç¬¦**ï¼‰
13. Goæ”¯æŒå¯å˜å‚æ•°

# å€¼ä¼ é€’å’ŒæŒ‡é’ˆä¼ é€’
```go
func test(n1 int) {
	n1 = n1 + 10
	fmt.Println("test n1=", n1)
}

// æŒ‡é’ˆç±»å‹æ¥æ”¶å¤„ç†
func test02(n2 *int) {
	*n2 = *n2 + 10
	fmt.Println("test02 n2=", *n2)
}

func main() {
	n1 := 20
	n2 := 2
	test(n1) // å€¼ç±»å‹
	test02(&n2) // æŒ‡é’ˆç±»å‹
	fmt.Println("main n1=", n1)
	fmt.Println("main n2=", n2)
}
```

# ä»€ä¹ˆæ˜¯é‡è½½
é‡è½½ï¼š å‡½æ•°åç›¸åŒï¼Œä½†æ˜¯å½¢å‚ä¸åŒæˆ–è€…æ•°æ®ç±»å‹ä¸åŒçš„æƒ…å†µ
Golangè¯­è¨€ä¸­æ˜¯ä¸æ”¯æŒä¼ ç»Ÿçš„å‡½æ•°é‡è½½çš„ï¼Œ`fn redeclared in this block`
Golangè¯­è¨€æ˜¯æ”¯æŒå¯å˜å‚æ•°çš„ï¼Œ**ç©ºæ¥å£**çš„å½¢å¼

![](https://pic.imgdb.cn/item/637f31c216f2c2beb1c2f216.jpg)

# å‡½æ•°ç±»å‹çš„å˜é‡
ç±»å‹ï¼š **func(int, int) int**

```go
func getSum(n1 int, n2 int) int {
	return n1 + n2
}
func getSums(n1 int, n2 int, n3 int) int {
	return n1 + n2 + n3
}

// main å‡½æ•°
sumFn := getSum
res := sumFn(10, 20)
fmt.Printf("%T %v\n", res, res) // int 30
fmt.Printf("%T \n", sumFn) // func(int, int) int

sumsFn := getSums
result := sumsFn(10, 20, 30)
fmt.Printf("result : %T %v\n", result, result) // result : int 60
fmt.Printf("sumsFnç±»å‹ï¼š%T \n", sumFn) // sumsFnç±»å‹ï¼šfunc(int, int) int

```
# å‡½æ•°ä½œä¸ºå½¢å‚ä¼ å…¥
```go
func getSum(n1 int, n2 int) int {
	return n1 + n2
}
func testFn(fnVar func(int, int) int, num1 int, num2 int) int {
	return fnVar(num1, num2) // è°ƒç”¨ä¼ å…¥çš„å‡½æ•°ï¼Œå¹¶è¿”å›å€¼
}

// å‡½æ•°ç±»å‹å½¢å‚
sumFn := getSum
total := testFn(sumFn, 1, 2)
fmt.Println("total=", total) // 3
```
# è‡ªå®šä¹‰æ•°æ®ç±»å‹

1. è‡ªå®šä¹‰å‡½æ•°æ•°æ®ç±»å‹ï¼Œ ç›¸å½“äºèµ·äº†ä¸€ä¸ªåˆ«å

```go
type mySum func(int, int) int

func testFn(fnVar mySum, num1 int, num2 int) int {
	return fnVar(num1, num2)
}

// func testFn(fnVar func(int, int) int, num1 int, num2 int) int {
// 	return fnVar(num1, num2)
// }
```

2. è‡ªå®šä¹‰æ•°æ®ç±»å‹

```go
// mainå‡½æ•°ä¸‹
type myInt int
var num1 myInt = 2
// var num2 int = num1 // è¿™æ ·æ˜¯æŠ¥é”™çš„ï¼Œ myIntå’Œintå¹¶ä¸ç­‰ä»·
var num2 int = int(num1) // æ˜¾å¼ç±»å‹è½¬æ¢
fmt.Printf("num1çš„ç±»å‹ï¼š%T å€¼ï¼š%v \n", num1, num1) // num1çš„ç±»å‹ï¼šmain.myInt å€¼ï¼š2
fmt.Printf("num2çš„ç±»å‹ï¼š%T å€¼ï¼š%v \n", num2, num2) // num2çš„ç±»å‹ï¼šint å€¼ï¼š2
```

3. å®šä¹‰çš„ç±»å‹: åŒ…å.ç±»å‹åï¼Œå¦‚ï¼š`utils.myInt`
```go
// ä»¥ä¸‹æ˜¯utilsåŒ…
package utils

import "fmt"

func TestFn() string {
	fmt.Println("TestFn å‡½æ•°è¢«è°ƒç”¨")
	type myInt int
	var n myInt = 10
	fmt.Printf("nçš„ç±»å‹ï¼š%T å€¼ï¼š%v", n, n) // nçš„ç±»å‹ï¼šutils.myInt å€¼ï¼š10
	return "hahaha"
}

```
# è¿”å›å€¼å‘½å
```go
func sumSub(n1 int, n2 int) (sum int, sub int) {
    // è¿™é‡Œä¸éœ€è¦å£°æ˜sum, subå˜é‡äº†ï¼Œä¹Ÿä¸ç”¨åœ¨returnæ—¶å†™
	sum = n1 + n2
	sub = n1 - n2
	return
}

// mainå‡½æ•°
sum, sub := sumSub(9, 8)
fmt.Println("sum=", sum, "sub=", sub) // sum= 17 sub= 1
```
# å¯å˜å‚æ•°
åŸºæœ¬è¯­æ³•
**1ã€æ”¯æŒé›¶åˆ°å¤šä¸ªå‚æ•°**
`func sum(args... int) {}`
**2ã€æ”¯æŒ1åˆ°å¤šä¸ªå‚æ•°**
`func sum(n1 int, args... int) {}`
argsï¼šå°±æ˜¯ä¸€ä¸ªæ‰¿æ¥çš„å˜é‡åï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚ï¼š`func sum(n1 int, **vars**... int) {}`

è¯´æ˜ï¼š

- argsæ˜¯sliceåˆ‡ç‰‡ï¼Œé€šè¿‡`args[index]`å¯ä»¥è®¿é—®åˆ°å„ä¸ªå€¼
- argså¿…é¡»æ”¾åˆ°å½¢å‚åˆ—è¡¨çš„æœ€åé¢

å‚æ•°ä¸ªæ•°å¯å˜
```go
func sumV2(n1 int, args ...int) int {
	sum := n1
	fmt.Printf("argsç±»å‹æ˜¯ï¼š%T\n", args) // argsç±»å‹æ˜¯ï¼š[]int
	// éå†argsåˆ‡ç‰‡
	for i := 0; i < len(args); i++ {
		sum += args[i]
	}
	return sum
}

// mainå‡½æ•°
// å‚æ•°å¯å˜
total02 := sumV2(1, 2, 3, 4)
fmt.Println("total02=", total02) // total02= 10
```

# ç»ƒä¹ 

äº¤æ¢å˜é‡a, bçš„å€¼
```go
package main

import "fmt"

func swap(n1 *int, n2 *int) {
	*n1 = *n1 + *n2
	*n2 = *n1 - *n2 // *n1
	*n1 = *n1 - *n2 // *n2
}

func main() {
	a := 12
	b := 20
	swap(&a, &b)
	fmt.Println("a = ", a, "b = ", b)
}
```

---

æˆ‘æ˜¯ [**ç”œç‚¹cc**](https://blog.i-xiao.space/)â˜­

å¾®ä¿¡å…¬ä¼—å·ï¼šã€çœ‹è§å¦ä¸€ç§å¯èƒ½ã€‘

çƒ­çˆ±å‰ç«¯å¼€å‘ï¼Œä¹Ÿå–œæ¬¢ä¸“ç ”å„ç§è·Ÿæœ¬èŒå·¥ä½œå…³ç³»ä¸å¤§çš„æŠ€æœ¯ï¼ŒæŠ€æœ¯ã€äº§å“å…´è¶£å¹¿æ³›ä¸”æµ“åšã€‚æœ¬å·ä¸»è¦è‡´åŠ›äºåˆ†äº«ä¸ªäººç»éªŒæ€»ç»“ï¼Œå¸Œæœ›å¯ä»¥ç»™ä¸€å°éƒ¨åˆ†äººä¸€äº›å¾®å°å¸®åŠ©ã€‚

å¸Œæœ›èƒ½å’Œå¤§å®¶ä¸€èµ·åŠªåŠ›è¥é€ ä¸€ä¸ªè‰¯å¥½çš„å­¦ä¹ æ°›å›´ï¼Œä¸ºäº†ä¸ªäººå’Œå®¶åº­ã€ä¸ºäº†æˆ‘å›½çš„äº’è”ç½‘ç‰©è”ç½‘æŠ€æœ¯ã€æ•°å­—åŒ–è½¬å‹ã€æ•°å­—ç»æµå‘å±•åšä¸€ç‚¹ç‚¹è´¡çŒ®ã€‚æ•°é£æµäººç‰©è¿˜çœ‹ä¸­å›½ã€çœ‹ä»Šæœã€çœ‹ä½ æˆ‘ã€‚