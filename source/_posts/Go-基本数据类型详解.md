---
title: Go | åŸºæœ¬æ•°æ®ç±»å‹è¯¦è§£
date: 2022-10-23 00:04:57
tags: Go
categories: Go
description: æœ¬ç¯‡ä»‹ç»Goè¯­è¨€çš„æ•°æ®ç±»å‹ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»¥åŠä½¿ç”¨æ³¨æ„äº‹é¡¹...
---

> æœ¬ç¯‡æ”¶å½•è‡³[Golangä¸“æ ](https://blog.i-xiao.space/categories/Go/)ï¼ŒæŒç»­æ›´æ–°ï¼Œæ¬¢è¿è®¿é—®ğŸ˜Š

# å‰è¨€

**åŸºæœ¬æ•°æ®ç±»å‹**ï¼Œå˜é‡å­˜çš„å°±æ˜¯å€¼ï¼Œä¹Ÿå«å€¼ç±»å‹ã€‚æ¯ä¸€ç§æ•°æ®éƒ½å®šä¹‰äº†æ˜ç¡®çš„æ•°æ®ç±»å‹ï¼Œåœ¨å†…å­˜ä¸­åˆ†é…äº†ä¸åŒå¤§å°çš„å†…å­˜ç©ºé—´ã€‚

![](https://pic1.imgdb.cn/item/635415fb16f2c2beb1362bf0.jpg)

# Printf å’Œ Println çš„åŒºåˆ«

- printf è¾“å‡ºåä¸æ¢è¡Œï¼Œ printlnè¾“å‡ºåè‡ªåŠ¨æ¢è¡Œï¼›

- printf æ ¼å¼åŒ–è¾“å‡ºï¼Œprintln ç›´æ¥è¾“å‡ºå†…å®¹
- Printf æ ¹æ®formatå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²å¹¶å†™å…¥æ ‡å‡†è¾“å‡ºã€‚

# åˆ¤æ–­æ•°æ®ç±»å‹ä»¥åŠæŸ¥çœ‹å˜é‡ä½¿ç”¨å†…å­˜ç©ºé—´

```go
package main

// import "unsafe"
// import "fmt"
// å¼•å…¥å¤šä¸ª
import (
"fmt"
"unsafe"
)

func main() {
	var i int8 = 12
	fmt.Println("i= ", i)

	var i2 uint8 = 129
	fmt.Println("i2= ", i2)

	var n = 12
	fmt.Printf("nçš„ç±»å‹æ˜¯%T\n", n) // nçš„ç±»å‹æ˜¯int

	var name = "xiao"
	fmt.Printf("nameçš„ç±»å‹æ˜¯%T\n", name) // nameçš„ç±»å‹æ˜¯string

	// æŸ¥çœ‹å˜é‡å ç”¨çš„å­—èŠ‚å¤§å°å’Œæ•°æ®ç±»å‹
	fmt.Printf("nameçš„ç±»å‹æ˜¯%T", name, unsafe.Sizeof(name))
}
```
# åŸºæœ¬æ•°æ®ç±»å‹

## æ•°å€¼å‹

### æ•´æ•°ç±»å‹ (é»˜è®¤å€¼æ˜¯0)
int, int8, int16, int32, int64
uint, uint8, uint16, uint32, uint64     æ— ç¬¦å·æ•°ï¼ˆè¡¨ç¤ºçš„èŒƒå›´æ›´å¤§ï¼‰
byte

- bit: è®¡ç®—æœºä¸­çš„æœ€å°å­˜å‚¨å•ä½

- byte: è®¡ç®—æœºä¸­åŸºæœ¬å­˜å‚¨å•å…ƒ

- 1byte = 8bit (ä¸€ä¸ªå­—èŠ‚8ä½)

![](https://pic1.imgdb.cn/item/6354165e16f2c2beb136bb7a.jpg)

![](https://pic1.imgdb.cn/item/6354166f16f2c2beb136d397.jpg)

![](https://pic1.imgdb.cn/item/6354167d16f2c2beb136e753.jpg)

```go
var i int8 = -129

// constant -129 overflows int8

var i2 uint8 = -129
// constant -129 overflows uint8
```
### æµ®ç‚¹ç±»å‹ (é»˜è®¤å€¼æ˜¯0)

- float32

- float64ï¼ˆé»˜è®¤ç±»å‹ï¼‰

![](https://pic1.imgdb.cn/item/6354168c16f2c2beb136fc17.jpg)

**æµ®ç‚¹æ•° = ç¬¦å·ä½ + æŒ‡æ•°ä½ + å°¾æ•°ä½**

æµ®ç‚¹æ•°éƒ½æ˜¯**æœ‰ç¬¦å·**çš„

ä½¿ç”¨æµ®ç‚¹ç±»å‹çš„æ—¶å€™å°±éœ€è¦æ³¨æ„å­˜åœ¨**ä¸¢å¤±ç²¾åº¦**çš„é—®é¢˜

```go
var num1 float32 = 12.556883123132   // ç²¾åº¦ä¼šä¸¢å¤±
var num2 float64 = 12.556883123132   // 64ä½æ¯”32ä½ç²¾åº¦è¦å‡†ç¡®
fmt.Println("num1=", num1, "num2", num2) // num1= 12.556883 num2 12.556883123132

var num = 12.64
fmt.Printf("numçš„ç±»å‹", num) // numçš„ç±»å‹%!(EXTRA float64=12.64)

var num3 = 5.6e2   //  5.6 * 10^2 = 5.6 * 100 = 560
fmt.Println("num3=", num3)
```
## å­—ç¬¦å‹

æ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦å‹ï¼Œä½¿ç”¨`byte`æ¥ä¿å­˜å•ä¸ªå­—æ¯å­—ç¬¦

`ASCII`ç ï¼ˆ128ä¸ªï¼‰

- Goè¯­è¨€çš„å­—ç¬¦ä½¿ç”¨UTF-8ç¼–ç 

- è‹±æ–‡å­—æ¯ï¼š1ä¸ªå­—èŠ‚

- æ±‰å­—ï¼š3ä¸ªå­—èŠ‚

- å­—ç¬¦å¿…é¡»ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼ŒåŒå¼•å·ä¼šæŠ¥é”™

**å•å¼•å·é’ˆå¯¹å•ä¸ªå­—ç¬¦ï¼Œå­—ç¬¦ä¸²è¦ä½¿ç”¨åŒå¼•å·**

**UTF-8æ˜¯å¯¹ASCIIçš„æ‰©å®¹**

```go
var str1 byte = 'a'
var str2 byte = '0'

// å½“ç›´æ¥è¾“å‡ºbyteæ—¶ï¼Œè¾“å‡ºçš„ä½¿å¯¹åº”å­—ç¬¦çš„ASCIIç å€¼(åè¿›åˆ¶)
fmt.Println("str1", str1, "str2", str2) // str1 97 str2 48
fmt.Printf("str1=%c str2=%c", str1, str2) // str1=a str2=0

fmt.Printf("str1=%c", str1) // str1=a
fmt.Printf("str2=%c", str2) // str2=0


var name byte = 'å–'
fmt.Printf("name=%c", name) // overflows byte è¶…å‡ºbyteç±»å‹çš„å­˜å‚¨èŒƒå›´äº†

// æ±‰å­—æ›´æ¢æˆintç±»å‹
var name int = 'å–'
fmt.Printf("name=%c", name) // name=å–

var name1 int =22269
fmt.Printf("name1=%c", name1) // name1=å›½

// æ•°æ®ç±»å‹åªæ˜¯ä¸ºäº†å®šä¹‰å­˜å‚¨ç©ºé—´çš„å¤§å°ï¼Œå¯¹åº”è®¡ç®—æœºä¸­çš„å†…å­˜ç©ºé—´
```

![](https://pic1.imgdb.cn/item/6354169e16f2c2beb137151f.jpg)

## å¸ƒå°”å‹ï¼ˆboolï¼‰(é»˜è®¤å€¼æ˜¯false)

ç”¨äºé€»è¾‘è¿ç®—ï¼Œæµç¨‹æ§åˆ¶ã€‚`bool`ç±»å‹åªå ç”¨ä¸€ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´

```go
var a = false
fmt.Println(a)  // false
fmt.Println(unsafe.Sizeof(a))  // 1
```

## å­—ç¬¦ä¸²ï¼ˆstringï¼‰(é»˜è®¤å€¼æ˜¯"")

`UTF-8`ç¼–ç 

**å­—ç¬¦ä¸²ä¸€ç»å®šä¹‰ï¼Œåˆ™ä¸èƒ½ä¿®æ”¹**

```go
var address string = "åŒ—äº¬é•¿åŸ"
fmt.Println(address) // åŒ—äº¬é•¿åŸ

var str = "hello"
str[0] = 'a'     // cannot assign to str[0] (strings are immutable)
fmt.Println(str)

// åå¼•å·
// ä»¥å­—ç¬¦ä¸²åŸç”Ÿå½¢å¼è¾“å‡ºï¼ŒåŒ…æ‹¬æ¢è¡Œå’Œç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥å®ç°é˜²æ­¢æ”»å‡»ã€è¾“å‡ºæºä»£ç ç­‰æ•ˆæœã€‚

// å­—ç¬¦ä¸²æ‹¼æ¥, + å·è¦æ”¾åœ¨ä¸Šé¢ï¼Œå¦åˆ™ä¼šæŠ¥é”™(å› ä¸ºgoé»˜è®¤åœ¨ä¸€è¡Œåé¢åŠ ;å·)
var str01 = "hello" + " world"
str01 += "  haha!" + "xixi" +
"heihei"
fmt.Println(str01)    // hello world  haha!xixiheihei
```

# åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼

```go
var a int
var b float32
var c float64
var d bool
var e string

// %vè¡¨ç¤ºæŒ‰ç…§å˜é‡çš„å€¼è¾“å‡º
fmt.Printf("a=%d,b=%v,c=%v,d=%v e=%v", a,b,c,d,e)
```

ä¸Šé¢è¾“å‡ºï¼š `a=0,b=0,c=0,d=false e=`

# æ´¾ç”Ÿ/å¤æ‚æ•°æ®ç±»å‹

1. æŒ‡é’ˆï¼ˆPointerï¼‰

2. æ•°ç»„

3. ç»“æ„ä½“ï¼ˆstructï¼‰

4. ç®¡é“ï¼ˆChannelï¼‰

5. å‡½æ•°

6. åˆ‡ç‰‡ï¼ˆsliceï¼‰

7. æ¥å£ï¼ˆinterfaceï¼‰

8. map

åé¢é™†ç»­è®²è§£å¤æ‚æ•°æ®ç±»å‹ã€‚

---

æˆ‘æ˜¯ [**ç”œç‚¹cc**](https://blog.i-xiao.space/)

çƒ­çˆ±å‰ç«¯ï¼Œä¹Ÿå–œæ¬¢ä¸“ç ”å„ç§è·Ÿæœ¬èŒå·¥ä½œå…³ç³»ä¸å¤§çš„æŠ€æœ¯ï¼ŒæŠ€æœ¯ã€äº§å“å…´è¶£å¹¿æ³›ä¸”æµ“åšï¼Œç­‰å¾…ç€ä¸€ä¸ªåˆ›ä¸šæœºä¼šã€‚æœ¬å·ä¸»è¦è‡´åŠ›äºåˆ†äº«ä¸ªäººç»éªŒæ€»ç»“ï¼Œå¸Œæœ›å¯ä»¥ç»™ä¸€å°éƒ¨åˆ†äººä¸€äº›å¾®å°å¸®åŠ©ã€‚

å¸Œæœ›èƒ½å’Œå¤§å®¶ä¸€èµ·åŠªåŠ›è¥é€ ä¸€ä¸ªè‰¯å¥½çš„å­¦ä¹ æ°›å›´ï¼Œä¸ºäº†ä¸ªäººå’Œå®¶åº­ã€ä¸ºäº†æˆ‘å›½çš„äº’è”ç½‘ç‰©è”ç½‘æŠ€æœ¯ã€æ•°å­—åŒ–è½¬å‹ã€æ•°å­—ç»æµå‘å±•åšä¸€ç‚¹ç‚¹è´¡çŒ®ã€‚**æ•°é£æµäººç‰©è¿˜çœ‹ä¸­å›½ã€çœ‹ä»Šæœã€çœ‹ä½ æˆ‘ã€‚**
